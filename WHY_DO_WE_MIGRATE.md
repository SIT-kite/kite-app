# 我们为什么迁移到 App

> 在上应大开发一个程序有多难？

- 2020年12月中旬，我们开发了电费查询与电费消费情况查询功能，旨在方便大家查询电费使用情况、提醒大家节约用电。
- 12月26日，内测用户反馈，电费查询结果与电费充值机、电控设备不一致，并且存在较大的数额差异。
- 2021年1月5日，前往一卡通服务中心反馈平台上寝室电费余额显示不准确的情况，图书馆 B112 的有关人员称 “不要看这上面的余额，不准的”，同时打电话向（据推测是外包公司）反映此事。  
  几日后该寝室电费余额恢复正常。我们判断是房间号对应关系出现问题。
- 1月10日，小程序上线电费余额和使用情况查询功能，在开发者朋友圈及易班工作站内部扩大范围测试。
- 1月11日，我们在朋友圈和各大 QQ 群推广电费查询功能，引起了不错的反响。
- 1月12日，前往图书馆 B132 与信息化技术中心寻求合作，被有关负责领导以 “电费查询涉及到支付系统” 为由拒绝，并且不考虑我们提出的解决方案。  
  同时，有关领导称网络平台（非充值机）“每一次电费余额请求都是从硬件拉取”，请求量大会导致硬件无法承受。  
  但据电费查询网站上的说明所写，电费余额数据每15分钟才从机器同步一次。  
  此外，他们还表达了对我方服务器能否支撑数据量的担忧，我们根据计算认为能够承受单机千万级时序数据。

这段时间 “上应小风筝” 的日访问人数在 200~300 左右，日访问页数在 500~1000 左右。受技术限制，暂时没能实现其他功能，
因而仅有电费查询功能。

- 3月9日，指导老师通知，由于信息化技术中心收到多位同学投诉电费查询不准确的问题，我们团队需要下架 “上应小风筝” 上电费查询功能，但他们并不打算处理数据源的问题。
  尽管只有少数房间电费余额数据存在问题，但随着 “上应小风筝” 用户量稳步上升，问题逐渐暴露。  
  我们团队主动联系了信息化技术中心老师，解释了我们的数据来源、余额同步的周期、电费使用量计算方法。由于 “上应小风筝” 每隔 30 分钟同步一次数据，
  其所缓存的余额信息与实际余额不会超过 30 分钟，由于寝室用电功率有限，电费结果差异一般不会超过 1 元。同时，我们建议信息化技术中心尽快修复数据同步逻辑。
- 9月3日，我们解决了技术上的问题，发布了成绩查询、课表查询、校园常用电话功能，半日请求数便过万。尽管此时刚开学，但我们仍感受到了大家体验功能的热情！
- 10月11日左右，我们陆续完成了第二课堂活动（报名、查看自己参与的活动）、消费记录查询、空教室查询功能，受到了同学们的一致好评。
  由于学校消费查询平台多年来无人维护，单次查询需要近 10 秒，我们优化了查询方式，减少了用户等待的延时。
- 10月19日，信息化技术中心再次通过指导老师要求我们团队下架电费查询和统计功能，理由是电费查询结果不准确、电费余额数据涉及数据安全。
  同时让我们等信息化技术中心修复完数据问题后再讨论是否恢复该业务。由于指导老师的强烈要求，我们暂时下架了电费余额查询和统计功能。
- 10月27日，信息化技术中心以我们团队 “非法获取用户密码” 为由，要求我们 2 日内停止运营 “上应小风筝” 小程序，并将我们团队的 IP 地址加入黑名单。
- 10月28日，上午，信息化技术中心催促我们团队关闭小程序的运营。下午约 15 时，开发团队主动联系并前往图书馆信息化技术中心。
  团队向信息化技术中心提供了其他学校学生制作的案例，并提出了符合我们学校情况的解决方案，由信息化技术中心监管数据的使用。
  部门老师记录了负责同学的手机号码，承诺“近两天开会研究，有问题反馈”。  
  此时小程序日活跃用户数超 5000 人，日页面访问超 20000 次，处于稳定运行的状态。为了给沟通创造良好条件，团队决定暂停小程序的服务，并建议同学们可以使用其他好用产品作为替代。
- 11月1日，由于未收到信息化技术中心的回复，团队成员再次主动前往办公地点沟通。有关领导称，由于无法保证数据安全和人员完全可信，必须继续关停 “上应小风筝” 小程序。
  我们提出由学工部和信息化技术中心联合运营维护的方案，对方承诺周内进行沟通。  
  在沟通中，我们询问了电费数据同步的问题，以及为何要求我们团队下架电费查询模块，有关领导表示毫不知情。我们提供了电费余额出现问题的寝室号供其核对。  
  同时，我们发布了一个 [问卷调查](https://wj.qq.com/s2/9245023/a7d8) ，在回收的 2232 份答卷中，大部分同学对小风筝的回归表示期待，也有同学表达了对隐私的担忧。
- 11月7日，在接大量用户反馈后，考虑到大家使用课表的需求，团队恢复了小程序上的课表功能，并下架了其他可能存在争议的功能。课表查看将基于用户手机上的缓存。
- 11月8日，信息化技术中心向计算机学院领导施压，要求关停 “上应小风筝”。
- 11月10日，有同学联系我们，报告信息化技术中心花费数十万的 “上应大” App 增加了原本存在于小风筝中的功能：成绩查询、课表查询和电费查询。此时信息化技术中心所承诺的 “一周” 早已过去。
- 11月11日，有老师称，信息化技术中心对外表示其 “约谈” 了我们团队，并且其 “主动发现” 了电费余额错误。
- 11月19日，学工部老师表示，与信息化技术中心老师沟通后，由于项目中可能存在的风险，不会支持我们运营 “上应小风筝” 小程序。
  下午，团队成员在一食堂开会讨论了这段时间以来的一系列困难，一致同意坚守初心，转型开发手机应用，继续以做公益的想法为全校同学提供优质的服务。

……

- 刚才，有人问：“上应小风筝”怎么转做 App 了？
